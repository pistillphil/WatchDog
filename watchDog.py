'''WatchDog for RedditCopyright (C) 2013  pistillphilThis program is free software: you can redistribute it and/or modifyit under the terms of the GNU General Public License as published bythe Free Software Foundation, either version 3 of the License, or(at your option) any later version.This program is distributed in the hope that it will be useful,but WITHOUT ANY WARRANTY; without even the implied warranty ofMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See theGNU General Public License for more details.You should have received a copy of the GNU General Public Licensealong with this program.  If not, see <http://www.gnu.org/licenses/>.'''import prawimport timefrom data import *def watch():	r = praw.Reddit(USERAGENT)	r.login(USERNAME, PASSWORD)	qualifiedSubmissions = []	unnecessarySubmissions = []	existingSubmissions = r.get_subreddit(SUBREDDIT).get_hot(limit=10000)	excludedSubreddits = EXCLUDEDSUBS.split(';')	#Search New Submissions	newSubmissions = r.get_subreddit('all').get_new(limit=SEARCHLIMIT)	for submission in newSubmissions:		title = submission.title		if KEYWORD in title.lower() and submission.score >= 2:			print submission			qualifiedSubmissions.append(submission)	#Search Top Submissions	topSubmissions = r.get_subreddit('all').get_top(limit=SEARCHLIMIT)	for submission in topSubmissions:		title = submission.title		if KEYWORD in title.lower():			print submission			qualifiedSubmissions.append(submission)			#exclude specific subreddits	for subreddit in excludedSubreddits:		for qualifiedSubmission in qualifiedSubmissions:			if str(qualifiedSubmission.subreddit).lower() == subreddit:				unnecessarySubmissions.append(qualifiedSubmission)				#See if submission already exist	for existingSubmission in existingSubmissions:		for qualifiedSubmission in qualifiedSubmissions:			if qualifiedSubmission.permalink == existingSubmission.url:				unnecessarySubmissions.append(qualifiedSubmission)	#Remove already existing submissions	for unnecessarySubmission in unnecessarySubmissions:		qualifiedSubmissions.remove(unnecessarySubmission)	#Post new submissions		for submission in qualifiedSubmissions:			print 'submitting link...' + submission.title[0:50]		r.submit(SUBREDDIT, submission.title, url=submission.permalink)		while(True):	watch()	print 'sleeping for ' + str(SLEEPDURATION/60) + ' minutes...'	time.sleep(SLEEPDURATION)